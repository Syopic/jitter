function sideNavigation(e){return function(t,r){e(function(){r.metisMenu({activeClass:"open",collapseClass:"collapse",collapseInClass:"in",collapsingClass:"collapsing"})})}}function customScrollbar(){return{restrict:"A",scope:{color:"@",distance:"@",height:"@",opacity:"@",position:"@",scrollTo:"@",size:"@",start:"@",touchScrollStep:"@",wheelStep:"@",width:"@"},link:function(e,t){t.slimscroll({class:"custom-scrollbar",barClass:"custom-scrollbar-gripper",railClass:"custom-scrollbar-track",wrapperClass:"custom-scrollable-area",color:_.get(e,"color","#000"),distance:_.get(e,"distance","5px"),height:_.get(e,"height","100%"),opacity:_.get(e,"opacity",.3),position:_.get(e,"position","right"),scrollTo:_.get(e,"scrollTo"),size:_.get(e,"size","6px"),start:_.get(e,"start","top"),touchScrollStep:_.get(e,"touchScrollStep",50),wheelStep:_.get(e,"wheelStep",10),width:_.get(e,"width","100%")})}}}function mdFormControl(){return{restrict:"AC",scope:{},link:function(e,t,r){var i=function(){var e=(t.val()||"").length>0;t.parent().toggleClass("has-value",e)};t.bind("focus",function(e){t.parent().addClass("is-focused")}),t.bind("blur",function(e){t.parent().removeClass("is-focused")}),t.bind("change",i),i()}}}function vectorMap(){return{restrict:"A",scope:{options:"=?"},link:function(e,t,r){t.vectorMap(angular.merge({},{backgroundColor:"null",color:"#fff",enableZoom:"true",hoverOpacity:"0.7",map:"world_en",scaleColors:["#0288d1","#016389"],selectedColor:"#757575",showTooltip:"true"},e.options))}}}function fitHeight(){return{restrict:"A",scope:{offset:"=?"},link:function(e,t,r){var i=parseInt(e.offset)||0;$(window).on("resize",function(e){t.css("height",$(window).height()-i+"px"),t.css("min-height",$(window).height()-i+"px")}).trigger("resize")}}}sideNavigation.$inject=["$timeout"],angular.module("sara").directive("sideNavigation",sideNavigation).directive("customScrollbar",customScrollbar).directive("mdFormControl",mdFormControl).directive("vectorMap",vectorMap).directive("fitHeight",fitHeight).directive("fileread",[function(){return{scope:{opts:"=",wb:"="},link:function(e,t,r){t.on("change",function(t){var r=new FileReader;r.onload=function(t){e.$apply(function(){var r=t.target.result,i=XLSX.read(r,{type:"binary"}),o=(XLSX.utils.sheet_to_json(i.Sheets[i.SheetNames[0]],{header:2})[0],{});i.SheetNames.forEach(function(e){var t=XLSX.utils.sheet_to_json(i.Sheets[e],{header:1});t.length&&(o[e]=t)});for(var a=i.Sheets[i.SheetNames[0]],n=XLSX.utils.decode_range(a["!ref"]),s=n.s.r;s<=n.e.r;++s)for(var c=n.s.c;c<=n.e.c;++c){var l=XLSX.utils.encode_cell({c:c,r:s});if(a[l]){var u=a[l];"s"!=u.t&&"str"!=u.t||"District"===u.v&&(u.v="7777777777")}}e.opts=o,e.wb=i})},r.readAsBinaryString(t.target.files[0])})}}}]),angular.module("sara").directive("percentageField",["$filter",function(e){return{restrict:"A",require:"ngModel",scope:{},link:function(e,t,r,i){function o(e){return i.$valid&&void 0!==e&&e>""?e:""}r.percentageMaxValue=r.percentageMaxValue||100,r.percentageMaxDecimals=r.percentageMaxDecimals||2,$(t).css({"text-align":"right"}),i.$parsers.push(function(e){if(""==e)return i.$setValidity("valid",!0),"";if(!e.match(/^\d+(\.\d+){0,1}%{0,1}$/gi))return i.$setValidity("valid",!1),"";e=e.replace(/[^0-9\.]/gi,""),e=parseFloat(e);var t=Math.pow(10,r.percentageMaxDecimals);return(e=Math.round(e*t)/t)>r.percentageMaxValue&&(e=r.percentageMaxValue),i.$setValidity("valid",!0),e}),i.$formatters.push(o),$(t).bind("click",function(){$(t).select()}),$(t).bind("blur",function(){$(t).val(o(i.$modelValue))})}}}]);